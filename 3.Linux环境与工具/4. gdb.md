# 1. gdb调试

- 使用`gdb`的先决条件就是在编译时使用`-g` 为文件编译添加了调试信息。
- 一般指令都可以简化为首字母直接使用。

##   1.1 编译和设置入参

- `gdb filename` ,使用gdb调试可执行程序
- `set args 参数内容` ,设置`main`的入口参数为 后面这些参数 ，多个参数以空格分隔
##   1.2 查看源码

- `list(l) [文件名:][行号|函数名]`
    
	- `list 数字`,查看当前行附近源码。
	- `list 函数名`,查看函数附近源码。
	- `list 文件名：行数/函数名` ,查看某个文件的行数或函数附近源码。
##   1.3 断点调试

- `break (b) [文件名:][行号|函数名]`
- `info break(i b)` ,查看断点列表。
- `delete (d) [n]`,删除所有断点或n号断点。

##   1.4 启动调试
- `run (r)`启动函数运行。
##   1.5 继续运行
- `continue (c) `,继续运行(在断点后继续)。
##   1.6 忽略断点
- `ignore N count `,N是断点序号 count 是忽略次数。
##   1.7 单步调试
- `step (s)`, 单步运行。
- `si`,单步运行机器指令。
##   1.8 跳出函数
- `finish`,跳出当前函数。
##   1.9 逐行调试
- `next (n)`,调用函数的位置不进入直接视为语句运行。
##   1.10 打印信息

- 使用`print` 必须每次手动查看`val`的值

	- `print(p) EXP` ，EXP是表达式的意思。
	- `print val`,可以查看变量的值。
	- `print val=num`, 是给变量赋值。

##   1.11 自动显示

- `display`会自动输出打印之前`display`的全部内容

	- `display EXP`,会将EXP/VAL直接添加到列表。
	- `info display` ,查看display参数列表。
	- `undisplay [num]`, 删除`display`列表中的某个参数或者全部`display`列表。

##   1.12 查看内存

- `x/16x $esp`,`esp`是一个cpu寄存器 查看其内容
- `x/nFU addr`
	- `x`代表使用查看内存命令 
	- `n`是数据类型长度
	- `F`是输出格式 
	- `U`是内存单元数据类型 缺省参数的时候会使用`hex` 16进制 和`word` 4字节
	- `F`: 默认为`hex` 16进制

	     - `o octal` 8进制
	     - `x hex` 16进制
	     - `d decimal` 10进制
	     - `u unsigned decimal` 无符号10进制
	     - `t binary` 2进制
	     - `f float` 浮点数
	     - `c char` 单字符
	     - `U`： 默认为w 4bytes
	     - `b byte` 单字节 1byte
	     - `h halfword` 半字 2bytes
	     - `w word` 字 4bytes
	     - `g giant` 双字 8bytes

##   1.13 退出
- `quit (q)`,退出gdb调试模式。
##   1.14 查看反汇编

- `gdb`中 `disass 函数名`，可以查看他的反汇编