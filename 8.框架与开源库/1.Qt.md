# 1.信号与槽
## 1.1 基本概念

- 在Qt中，可以通过信号与槽机制来实现事件通知。需要用到connect 先连接信号和槽函数。

- 信号和槽函数的返回值一般都是void，不是的话要保持一致。
- 信号的形参个数可以多于槽函数形参，反之则不行。
- emit 发射信号，`public signals:` 和`slots:`信号不需要实现。

- 只绑定自己拥有资源的信号和槽函数，若想要让次级资源回到上一级。
- 推荐在父级绑定信号和槽，在次级资源发送对应的信号。

## 1.2 使用注意

- 信号和槽函数的类都要继承`QObject`，并且使用`singals:`或`public singals:`标记。
- 槽函数的形参个数可以比信号函数的形参个数少，但不能多于信号函数的形参，一般一样多。

- 使用信号函数：
	1. `emit s.fn();` ，使用emit 发射信号。
	2. Qt4/5使用的方法不检查编译错误。
	   `connect(sendobj*，SINGAL(sendFn(形参列表)),recvobj*,SLOT(recvFn(形参列表)));`,
	3. 函数要加调用形参列表，可以处理重载信号和槽函数的情况，而指针法不能。
	4. 推荐使用指针方式链接，`connect(send*，&send::sendFn,recv*,&recv::recvFn);`,
	   但是无法识别重载的函数。
	5. 处理重载需要使用`QOverload<int>::of(&)`, `connect(sendobj*,QOverload<int>::of(&send::sendFn),recvobj*,QOverload<int>::of(&recv::recvFn));`。
	6. 信号和槽函数，允许多个信号连接一个槽，或者是一个信号连接多个槽函数。
	7. 信号也可以连接信号，`connect(obj1, SIGNAL(signal1), obj2, SIGNAL(signal2));`。

# 2.鼠标处理

## 2.1 鼠标事件

- Qt的菜单窗口推荐使用`QMainWindow`类的子类，而用户界面推荐使用`QWidget`类的子类。
- Qt的函数命名是***大驼峰***，信号和槽依赖于`QObect`类，`connect`是`QObject`的静态方法。
---
- Qt键盘鼠标事件处理
	1. 重写event的处理函数，来自三大窗口基类父类
	    ```C++
	    /* 需要的头文件*/
	    #include <QMouseevent> /* 鼠标按下事件 */
	    #include <QWheelevent> /* 鼠标滚轮事件 */
	    #include <QKeyevent>    /* 键盘事件 */
	    
	    /* 四个按键事件 */ protected:  
	    void mousePressEvent(QMouseEvent *event);  
	    void mouseReleaseEvent(QMouseEvent *event);  
	    void mouseDoubleClickEvent(QMouseEvent *event);  
	    void mouseMoveEvent(QMouseEvent *event);
	     /* 鼠标滚轮事件 */  
	    void wheelEvent(QWheelEvent *event);
	    /* 使用滚轮事件需要手动启用 */
	    setMouseTracking(true);
	    /* 键盘事件 */ protected:  
	    void keyPressEvent(QKeyEvent *event);
	    void keyReleaseEvent(QKeyEvent *event);
	     /* 事件处理机制 */  
	    event->ignore(); /* 代表事件已经被忽略会继续传递 */  
	    event->accept(); /*  代表事件已被处理不会再传递到外层 */  
	    
	    installEventFilter(QObject*); /* 安装事件过滤器 */  
	    bool eventFilter(QObject*, Qevent*); 
	    /* 重写事件过滤器 *//* 返回ture 则代表处理完成不会再传递,  
	        return QObject::eventFilter(obj,event);  默认事件过滤什么  
	    也不做则代表使用默认过滤器去处理 直接返回false的 */
	    ```